var App=function(){var e,t,n,r,i,s,o;var u=function(){e=$("#page-container");t=$("#page-content");n=$("header");r=$("#page-content + footer");i=$("#sidebar");s=$("#sidebar-alt");o=$(".sidebar-scroll");f("init");a();p();d();m();h();$(window).resize(function(){h()});$(window).bind("orientationchange",h);var u=$("#year-copy"),l=new Date;if(l.getFullYear()===2014){u.html("2014")}else{u.html("2014-"+l.getFullYear().toString().substr(2,2))}v();$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault();$(this).tab("show")});$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:false});$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:true});$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}});$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:true,navigateByImgClick:true,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}});$(".textarea-editor").wysihtml5();$(".select-chosen").chosen({width:"100%"});$(".select-select2").select2();$(".input-slider").slider();$(".input-tags").tagsInput({width:"auto",height:"auto"});$(".input-datepicker, .input-daterange").datepicker({weekStart:1});$(".input-datepicker-close").datepicker({weekStart:1}).on("changeDate",function(e){$(this).datepicker("hide")});$(".input-timepicker").timepicker({minuteStep:1,showSeconds:true,showMeridian:true});$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:true,showMeridian:false});$(".pie-chart").easyPieChart({barColor:$(this).data("bar-color")?$(this).data("bar-color"):"#777777",trackColor:$(this).data("track-color")?$(this).data("track-color"):"#eeeeee",lineWidth:$(this).data("line-width")?$(this).data("line-width"):3,size:$(this).data("size")?$(this).data("size"):"80",animate:800,scaleColor:false});$("input, textarea").placeholder()};var a=function(){var e=250;var t=250;var n=$(".sidebar-nav a");var r=$(".sidebar-nav-menu");var i=$(".sidebar-nav-submenu");r.click(function(){var n=$(this);if(n.parent().hasClass("active")!==true){if(n.hasClass("open")){n.removeClass("open").next().slideUp(e);setTimeout(h,e)}else{$(".sidebar-nav-menu.open").removeClass("open").next().slideUp(e);n.addClass("open").next().slideDown(t);setTimeout(h,e>t?e:t)}}return false});i.click(function(){var n=$(this);if(n.parent().hasClass("active")!==true){if(n.hasClass("open")){n.removeClass("open").next().slideUp(e);setTimeout(h,e)}else{n.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open").next().slideUp(e);n.addClass("open").next().slideDown(t);setTimeout(h,e>t?e:t)}}return false})};var f=function(t,r){if(t==="init"){if(n.hasClass("navbar-fixed-top")||n.hasClass("navbar-fixed-bottom")){f("sidebar-scroll")}$(".sidebar-partial #sidebar").mouseenter(function(){f("close-sidebar-alt")});$(".sidebar-alt-partial #sidebar-alt").mouseenter(function(){f("close-sidebar")})}else{var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(t==="toggle-sidebar"){if(i>991){e.toggleClass("sidebar-visible-lg");if(e.hasClass("sidebar-visible-lg")){f("close-sidebar-alt")}if(r==="toggle-other"){if(!e.hasClass("sidebar-visible-lg")){f("open-sidebar-alt")}}}else{e.toggleClass("sidebar-visible-xs");if(e.hasClass("sidebar-visible-xs")){f("close-sidebar-alt")}}}else if(t==="toggle-sidebar-alt"){if(i>991){e.toggleClass("sidebar-alt-visible-lg");if(e.hasClass("sidebar-alt-visible-lg")){f("close-sidebar")}if(r==="toggle-other"){if(!e.hasClass("sidebar-alt-visible-lg")){f("open-sidebar")}}}else{e.toggleClass("sidebar-alt-visible-xs");if(e.hasClass("sidebar-alt-visible-xs")){f("close-sidebar")}}}else if(t==="open-sidebar"){if(i>991){e.addClass("sidebar-visible-lg")}else{e.addClass("sidebar-visible-xs")}f("close-sidebar-alt")}else if(t==="open-sidebar-alt"){if(i>991){e.addClass("sidebar-alt-visible-lg")}else{e.addClass("sidebar-alt-visible-xs")}f("close-sidebar")}else if(t==="close-sidebar"){if(i>991){e.removeClass("sidebar-visible-lg")}else{e.removeClass("sidebar-visible-xs")}}else if(t==="close-sidebar-alt"){if(i>991){e.removeClass("sidebar-alt-visible-lg")}else{e.removeClass("sidebar-alt-visible-xs")}}else if(t=="sidebar-scroll"){if(o.length&&!o.parent(".slimScrollDiv").length){o.slimScroll({height:$(window).height(),color:"#fff",size:"3px",touchScrollStep:100});$(window).resize(l);$(window).bind("orientationchange",c)}}}return false};var l=function(){o.add(o.parent()).css("height",$(window).height())};var c=function(){setTimeout(o.add(o.parent()).css("height",$(window).height()),500)};var h=function(){var o=$(window).height();var u=i.outerHeight();var a=s.outerHeight();var f=n.outerHeight();var l=r.outerHeight();if(n.hasClass("navbar-fixed-top")||n.hasClass("navbar-fixed-bottom")||u<o&&a<o){if(e.hasClass("footer-fixed")){t.css("min-height",o-f+"px")}else{t.css("min-height",o-(f+l)+"px")}}else{if(e.hasClass("footer-fixed")){t.css("min-height",(u>a?u:a)-f+"px")}else{t.css("min-height",(u>a?u:a)-(f+l)+"px")}}};var p=function(){$('[data-toggle="block-toggle-content"]').on("click",function(){var e=$(this).closest(".block").find(".block-content");if($(this).hasClass("active")){e.slideDown()}else{e.slideUp()}$(this).toggleClass("active")});$('[data-toggle="block-toggle-fullscreen"]').on("click",function(){var e=$(this).closest(".block");if($(this).hasClass("active")){e.removeClass("block-fullscreen")}else{e.addClass("block-fullscreen")}$(this).toggleClass("active")});$('[data-toggle="block-hide"]').on("click",function(){$(this).closest(".block").fadeOut()})};var d=function(){var e=$("#to-top");var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(window).scroll(function(){if($(this).scrollTop()>150&&t>991){e.fadeIn(100)}else{e.fadeOut(100)}});e.click(function(){$("html, body").animate({scrollTop:0},400);return false})};var v=function(){var e=$(".chat-users");var t=$(".chat-talk");var n=$(".chat-talk-messages");var r=$("#sidebar-chat-message");var i="";$(".chat-talk-messages").slimScroll({height:210,color:"#fff",size:"3px",position:"left",touchScrollStep:100});$("a",e).click(function(){e.slideUp();t.slideDown();r.focus();return false});$("#chat-talk-close-btn").click(function(){t.slideUp();e.slideDown();return false});$("#sidebar-chat-form").submit(function(e){i=r.val();if(i){n.append('<li class="chat-talk-msg chat-talk-msg-highlight themed-border animation-slideLeft">'+$("<div />").text(i).html()+"</li>");n.animate({scrollTop:n[0].scrollHeight},500);r.val("")}e.preventDefault()})};var m=function(){var t=$(".sidebar-themes");var r=$("#theme-link");var i;if(r.length){i=r.attr("href");$("li",t).removeClass("active");$('a[data-theme="'+i+'"]',t).parent("li").addClass("active")}$("a",t).click(function(e){i=$(this).data("theme");$("li",t).removeClass("active");$(this).parent("li").addClass("active");if(i==="default"){if(r.length){r.remove();r=$("#theme-link")}}else{if(r.length){r.attr("href",i)}else{$('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+i+'">');r=$("#theme-link")}}});$(".dropdown-options a").click(function(e){e.stopPropagation()});var s=$("#options-main-style");var o=$("#options-main-style-alt");if(e.hasClass("style-alt")){o.addClass("active")}else{s.addClass("active")}s.click(function(){e.removeClass("style-alt");$(this).addClass("active");o.removeClass("active")});o.click(function(){e.addClass("style-alt");$(this).addClass("active");s.removeClass("active")});var u=$("#options-header-default");var a=$("#options-header-inverse");var l=$("#options-header-top");var c=$("#options-header-bottom");if(n.hasClass("navbar-default")){u.addClass("active")}else{a.addClass("active")}if(n.hasClass("navbar-fixed-top")){l.addClass("active")}else if(n.hasClass("navbar-fixed-bottom")){c.addClass("active")}u.click(function(){n.removeClass("navbar-inverse").addClass("navbar-default");$(this).addClass("active");a.removeClass("active")});a.click(function(){n.removeClass("navbar-default").addClass("navbar-inverse");$(this).addClass("active");u.removeClass("active")});l.click(function(){e.removeClass("header-fixed-bottom").addClass("header-fixed-top");n.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top");$(this).addClass("active");c.removeClass("active");f("sidebar-scroll");h()});c.click(function(){e.removeClass("header-fixed-top").addClass("header-fixed-bottom");n.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom");$(this).addClass("active");l.removeClass("active");f("sidebar-scroll");h()});var p=$("#options-footer-static");var d=$("#options-footer-fixed");if(e.hasClass("footer-fixed")){d.addClass("active")}else{p.addClass("active")}p.click(function(){e.removeClass("footer-fixed");$(this).addClass("active");d.removeClass("active");h()});d.click(function(){e.addClass("footer-fixed");$(this).addClass("active");p.removeClass("active");h()})};var g=function(){$.extend(true,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}})};return{init:function(){u()},sidebar:function(e,t){f(e,t)},datatables:function(){g()}}}();$(function(){App.init()})